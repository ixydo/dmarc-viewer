<!DOCTYPE html>
<html lang="en">
<head>
    <title>{% block title %}Open DMARC Analyzer{% endblock %}</title>
    {% load static %}
    {% load bootstrap3 %}


    {% comment %}
    The minified and concatened js and css sources include all front-end
    dependencies and are checked into version control. This allows users
    to run the app without using the front-end toolchain
    (node/npm/gulp/sass).

    For debugging it might be helpful to load the original (3rd party)
    sources. Take a look at `Gulpfile.js` to see how to install the
    dependencies and copy them from their default location (`node_modules`)
    to a place where Django can serve them from.
    {% endcomment %}

    {% if TEMPLATE_SETTINGS.use_minified %}
        <script src="{% static "js/dmarc_viewer.dist.min.js" %}"></script>
        <link href="{% static "css/dmarc_viewer.dist.min.css" %}" rel="stylesheet">

    {% else %}
        {# 3rd party JS #}
        <script src="{% static "vendor/jquery.js" %}"></script>
        <script src="{% static "vendor/bootstrap.js" %}"></script>
        <script src="{% static "vendor/Sortable.js" %}"></script>
        <script src="{% static "vendor/selectize.js" %}"></script>
        <script src="{% static "vendor/colorpicker-color.js" %}"></script>
        <script src="{% static "vendor/bootstrap-datepicker.js" %}"></script>
        <script src="{% static "vendor/jquery.dataTables.js" %}"></script>
        <script src="{% static "vendor/dataTables.bootstrap.js" %}"></script>
        <script src="{% static "vendor/dataTables.responsive.js" %}"></script>
        <script src="{% static "vendor/d3.js" %}"></script>
        <script src="{% static "vendor/topojson.js" %}"></script>
        <script src="{% static "vendor/datamaps.all.js" %}"></script>

        {# non-3rd party JS #}
        <script src="{% static "js/main.js" %}"></script>
        <script src="{% static "js/editor.js" %}"></script>
        <script src="{% static "js/analysis.js" %}"></script>
        <script src="{% static "js/d3.legend.js" %}"></script>

        {# 3rd party CSS #}
        <link href="{% static "vendor/selectize.bootstrap3.css" %}" rel="stylesheet">
        <link href="{% static "vendor/bootstrap-datepicker3.css" %}" rel="stylesheet">
        <link href="{% static "vendor/dataTables.bootstrap.css" %}" rel="stylesheet">
        <link href="{% static "vendor/responsive.bootstrap.css" %}" rel="stylesheet">

        {# non-3rd party CSS (generated using gulp `styles` task ) #}
        <link href="{% static "css/dmarc_viewer.css" %}" rel="stylesheet">
    {% endif %}

        {% comment %}
        `djangoformsetjs` is installed as Python dependency to some
        `site-packages` dir, where it is found by Django's static file loader

        TODO:
        Find a good solution to tell the gulp build task (i.e. `min-js`) where
        to find this file so that we can add it to
        `dmarc_viewer.dist.min.js` and only load it like below when if
        `TEMPLATE_SETTINGS.use_minified` is `False`.
        {% endcomment %}
        <script src="{% static "js/jquery.formset.js" %}"></script>

</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="brand">&lt;dmarc&sol;&gt; viewer</div>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li class="{% if 'overview' in request.path %} active {% endif %}"><a href="/overview/">Overview</a></li>
            <li class="{% if 'deep-analysis' in request.path %} active {% endif %}"><a href="/deep-analysis/">Deep Analysis</a></li>
            <li class="{% if 'view-management' in request.path %} active {% endif %}"><a href="/view-management/">View Management</a></li>
            <li class="{% if 'help' in request.path %} active {% endif %}"><a href="/help/">Help</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div id="{% block site_id %}{% endblock %}" class="container-fluid">
        <div class="row">
            {% block content %}{% endblock %}
        </div>
    </div>


</body>
</html>